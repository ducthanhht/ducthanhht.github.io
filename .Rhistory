r.version
R.version
help
help
demo()
remove.packages("rgl")
q()
# Simulate data
set.seed(123)
n <- 200
group <- rep(c(0, 1), each = n / 2)  # 0 = Control, 1 = Treatment
time <- rep(c(0, 1), times = n / 2) # 0 = Pre-treatment, 1 = Post-treatment
treatment_effect <- 5
# Outcomes
pre_outcome <- rnorm(n, mean = 10, sd = 2)
post_outcome <- pre_outcome + treatment_effect * (group == 1 & time == 1)
outcome <- ifelse(time == 0, pre_outcome, post_outcome)
# Data frame
data <- data.frame(group, time, outcome)
View(data)
model <- lm(outcome ~ group * time, data = data)
summary(model)
did_estimate <- coef(model)["group:time"]
did_estimate
rm(list=ls())
set.seed(123)
n <- 200
treatment <- rbinom(n, 1, 0.5)
covariate <- rnorm(n)
outcome <- 3 + 2 * treatment + 1.5 * covariate + rnorm(n)
# Data frame
data <- data.frame(treatment, covariate, outcome)
model <- lm(outcome ~ treatment + covariate, data = data)
data$Y1_hat <- predict(model, newdata = data.frame(treatment = 1, covariate = data$covariate))
model$coefficients
3.127734+1.515195*-0.71040656
3.127734+1.808210 +1.515195*-0.71040656
rm(list=ls())
# Simulate data
set.seed(123)
n <- 200
X <- rnorm(n)
treatment <- rbinom(n, 1, 0.5)
error <- rnorm(n)
# True outcomes
Y0 <- 2 + 1.5 * X + error       # Control group outcome
Y1 <- 4 + 1.5 * X + error       # Treatment group outcome
# Observed outcomes
Y <- ifelse(treatment == 1, Y1, Y0)
# Create data frame
data <- data.frame(X, treatment, Y)
head(Y0)
tail(Y0)
treatment_model <- lm(Y ~ X, data = data, subset = treatment == 1)
View(data)
control_model <- lm(Y ~ X, data = data, subset = treatment == 0)
control_model$coefficients
treatment_model$coefficients
data$Y1_hat <- predict(treatment_model, newdata = data)  # Treated model for all
data$Y0_hat <- predict(control_model, newdata = data)    # Control model for all
2.086099+1.470244 *-0.560475647
3.978128 +   1.320364*-0.560475647
3.978128 +   1.320364*-0.230177489
2.086099+1.470244 *-0.230177489
rm(list=ls())
library(stats)  # For locfit function
# Simulated data
set.seed(123)
n <- 200
age <- runif(n, 6, 60)  # Age in months
raw_score <- 50 + 0.5 * age + rnorm(n, 0, 5)  # Simulated raw scores
# Step 1: Estimate age-conditional mean
library(locfit)
library(stats)
library(stats)  # For locfit function
# Simulated data
set.seed(123)
n <- 200
age <- runif(n, 6, 60)  # Age in months
raw_score <- 50 + 0.5 * age + rnorm(n, 0, 5)  # Simulated raw scores
# Step 1: Estimate age-conditional mean
library(locfit)
install.packages("locfit")
library(stats)  # For locfit function
# Simulated data
set.seed(123)
n <- 200
age <- runif(n, 6, 60)  # Age in months
raw_score <- 50 + 0.5 * age + rnorm(n, 0, 5)  # Simulated raw scores
# Step 1: Estimate age-conditional mean
library(locfit)
fit_mean <- locfit(raw_score ~ lp(age, deg = 2, kern = "tricube"))
set.seed(123)
n <- 200
age <- runif(n, 6, 60)  # Age in months
raw_score <- 50 + 0.5 * age + rnorm(n, 0, 5)  # Simulated raw scores
# Combine into a data frame
data <- data.frame(age = age, raw_score = raw_score)
# Step 1: Clean the data to remove invalid values
data <- na.omit(data)  # Remove rows with missing values
data <- data[!is.infinite(data$age) & !is.infinite(data$raw_score), ]
# Step 2: Estimate the age-conditional mean (f(X))
fit_mean <- locfit(raw_score ~ lp(age, deg = 2, kern = "tricube"), data = data)
# Load necessary library
if (!require("locfit")) {
install.packages("locfit")  # Install locfit if not already installed
library(locfit)
}
# Simulated Data
set.seed(123)
n <- 200
age <- runif(n, 6, 60)  # Age in months
raw_score <- 50 + 0.5 * age + rnorm(n, 0, 5)  # Simulated raw scores
# Combine into a data frame
data <- data.frame(age = age, raw_score = raw_score)
# Step 1: Clean the data to remove invalid values
data <- na.omit(data)  # Remove rows with missing values
data <- data[!is.infinite(data$age) & !is.infinite(data$raw_score), ]
# Step 2: Estimate the age-conditional mean (f(X))
fit_mean <- locfit(raw_score ~ lp(age, deg = 2, kern = "tricube"), data = data)
# Load necessary library
if (!require("locfit")) {
install.packages("locfit")  # Install locfit if not already installed
library(locfit)
}
# Simulated Data (Replace this with your actual data)
set.seed(123)
n <- 200
age <- runif(n, 6, 60)  # Age in months
raw_score <- 50 + 0.5 * age + rnorm(n, 0, 5)  # Simulated raw scores
# Combine into a data frame
data <- data.frame(age = age, raw_score = raw_score)
# Step 1: Check for and remove invalid values
# Print summary of raw data
print("Checking for NA, NaN, or Inf in the data...")
print(summary(data))
if (any(is.na(data))) cat("Warning: NA values found and removed.\n")
if (any(is.nan(data))) cat("Warning: NaN values found and removed.\n")
# Load necessary library
if (!require("locfit")) {
install.packages("locfit")  # Install locfit if not already installed
library(locfit)
}
# Simulated Data (Replace this with your actual data)
set.seed(123)
n <- 200
age <- runif(n, 6, 60)  # Age in months
raw_score <- 50 + 0.5 * age + rnorm(n, 0, 5)  # Simulated raw scores
# Combine into a data frame
data <- data.frame(age = age, raw_score = raw_score)
# Step 1: Clean Data - Remove invalid values
cat("Step 1: Cleaning data...\n")
print(summary(data))  # Summary of the raw data
data <- na.omit(data)  # Remove rows with NA
data <- data[!is.nan(data$age) & !is.nan(data$raw_score), ]  # Remove NaN
data <- data[!is.infinite(data$age) & !is.infinite(data$raw_score), ]  # Remove Inf
# Confirm clean data
cat("Summary of cleaned data:\n")
print(summary(data))
# Step 2: Estimate Age-Conditional Mean (f(X))
cat("Step 2: Estimating age-conditional mean...\n")
fit_mean <- locfit(raw_score ~ lp(age, deg = 2, kern = "tricube"), data = data)
rm(list-ls())
rm(list=ls())
library(stats)  # For locfit function
# Simulated data
set.seed(123)
n <- 200
age <- runif(n, 6, 60)  # Age in months
raw_score <- 50 + 0.5 * age + rnorm(n, 0, 5)  # Simulated raw scores
# Step 1: Estimate age-conditional mean
library(locfit)
fit_mean <- locfit(raw_score ~ lp(age, deg = 2, kern = "tricube"))
# Load necessary library
if (!require("locfit")) {
install.packages("locfit")  # Install locfit if not already installed
library(locfit)
}
# Simulated Data (Replace this with your actual data)
set.seed(123)
n <- 200
age <- runif(n, 6, 60)  # Age in months
raw_score <- 50 + 0.5 * age + rnorm(n, 0, 5)  # Simulated raw scores
# Combine into a data frame
data <- data.frame(age = age, raw_score = raw_score)
# Step 1: Clean Data - Remove invalid values
cat("Step 1: Cleaning data...\n")
print(summary(data))  # Summary of the raw data
data <- na.omit(data)  # Remove rows with NA
data <- data[!is.nan(data$age) & !is.nan(data$raw_score), ]  # Remove NaN
data <- data[!is.infinite(data$age) & !is.infinite(data$raw_score), ]  # Remove Inf
# Confirm clean data
cat("Summary of cleaned data:\n")
print(summary(data))
# Step 2: Estimate Age-Conditional Mean (f(X))
cat("Step 2: Estimating age-conditional mean...\n")
fit_mean <- locfit(raw_score ~ lp(age, deg = 2, kern = "tricube"), data = data)
if (!require("locfit")) {
install.packages("locfit")  # Install locfit if not already installed
library(locfit)
}
# Simulated Data (Replace this with your actual data)
set.seed(123)
n <- 200
age <- runif(n, 6, 60)  # Age in months
raw_score <- 50 + 0.5 * age + rnorm(n, 0, 5)  # Simulated raw scores
# Combine into a data frame
data <- data.frame(age = age, raw_score = raw_score)
# Step 1: Clean Data - Remove invalid values
cat("Step 1: Cleaning data...\n")
data <- na.omit(data)  # Remove rows with NA
data <- data[!is.nan(data$age) & !is.nan(data$raw_score), ]  # Remove NaN
data <- data[!is.infinite(data$age) & !is.infinite(data$raw_score), ]  # Remove Inf
# Debugging: Ensure no invalid values remain
cat("Debugging: Checking for invalid values...\n")
if (any(is.na(data$age)) || any(is.na(data$raw_score))) stop("Error: NA values found in the data.")
if (any(is.nan(data$age)) || any(is.nan(data$raw_score))) stop("Error: NaN values found in the data.")
if (any(is.infinite(data$age)) || any(is.infinite(data$raw_score))) stop("Error: Infinite values found in the data.")
# Step 2: Estimate Age-Conditional Mean (f(X))
cat("Step 2: Estimating age-conditional mean...\n")
fit_mean <- locfit(raw_score ~ lp(age, deg = 2, kern = "tricube"), data = data)
rm(list=ls())
nG                 <- 2             # Number of groups (here 2 for treated and controls)
nM                 <- 2             # Number of mixtures
nI                 <- 0             # Number of instruments (that are assumed to be measured without error)
nF                 <- 8             # Number of factors (excluding instruments that are assumed to be measured without error)
nFI                <- nF + nI       # Total number of factors
skill              <- c(1,2)        # 1 for cognitive skill, 2 for non-cognitive skill
nS                 <- length(skill) # Number of production functions
nD                 <- 10000         # Number of draws from factor distribution
nInvest            <- 2
invar              <- 0
freemean     <- matrix(0,nG, nZ)
nZ=28
freemean     <- matrix(0,nG, nZ)
View(freemean)
freemean[2,] <- 1   #No restriction
meanpos                     <- matrix(0, nM, nG)
View(meanpos)
nG
(nM-1)
matrix(0, 3, 2)
